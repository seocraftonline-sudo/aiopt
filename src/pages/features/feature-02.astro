---
import Layout from '../../layouts/Layout.astro';
import Nav from '../../components/Nav.astro';
---
<Layout>
<Nav/>
<main class="mn">
  <div class="pg-hd">
    <div class="hd-ic">üìä</div>
    <h1 class="tl">Performance Analytics</h1>
    <p class="st">Track and analyze your content performance across all platforms</p>
  </div>

  <!-- Progress -->
  <div class="pr-wr">
    <div class="pr-st" id="progressBar">
      <div class="pr-it cp" data-step="1"><div class="pr-nm">1</div><div class="pr-lb">Connect</div></div>
      <div class="pr-ln"></div>
      <div class="pr-it" data-step="2"><div class="pr-nm">2</div><div class="pr-lb">Configure</div></div>
      <div class="pr-ln"></div>
      <div class="pr-it" data-step="3"><div class="pr-nm">3</div><div class="pr-lb">Analyze</div></div>
      <div class="pr-ln"></div>
      <div class="pr-it" data-step="4"><div class="pr-nm">4</div><div class="pr-lb">Report</div></div>
    </div>
  </div>

  <div class="st-cn">
    <!-- Step 1: Connect Data Sources -->
    <div class="st-bx" id="step1">
      <div class="st-ic">üîó</div>
      <div class="st-hd">
        <h2>Connect Your Data Sources</h2>
        <p>Link your analytics accounts to start tracking performance</p>
      </div>
      <div class="st-bd">
        <div class="ds-gd">
          <div class="ds-cd" data-source="google-analytics">
            <div class="ds-ic">üìà</div>
            <div class="ds-info">
              <h3 class="ds-nm">Google Analytics</h3>
              <p class="ds-ds">Website traffic and user behavior</p>
            </div>
            <button class="ds-bt" id="connectGA">Connect</button>
          </div>
          <div class="ds-cd" data-source="search-console">
            <div class="ds-ic">üîç</div>
            <div class="ds-info">
              <h3 class="ds-nm">Search Console</h3>
              <p class="ds-ds">Search performance and rankings</p>
            </div>
            <button class="ds-bt" id="connectSC">Connect</button>
          </div>
          <div class="ds-cd" data-source="social-media">
            <div class="ds-ic">üì±</div>
            <div class="ds-info">
              <h3 class="ds-nm">Social Media</h3>
              <p class="ds-ds">Facebook, Twitter, LinkedIn metrics</p>
            </div>
            <button class="ds-bt" id="connectSM">Connect</button>
          </div>
          <div class="ds-cd" data-source="email">
            <div class="ds-ic">üìß</div>
            <div class="ds-info">
              <h3 class="ds-nm">Email Marketing</h3>
              <p class="ds-ds">Campaign performance data</p>
            </div>
            <button class="ds-bt" id="connectEM">Connect</button>
          </div>
        </div>
        <div class="bt-gr">
          <button class="bt-pr" id="nextStep1"><span>Configure Tracking</span><span class="bt-ar">‚Üí</span></button>
        </div>
      </div>
    </div>

    <!-- Step 2: Configure Tracking -->
    <div class="st-bx" id="step2" style="display:none">
      <div class="st-ic">‚öôÔ∏è</div>
      <div class="st-hd">
        <h2>Configure Tracking Settings</h2>
        <p>Set up your tracking preferences and goals</p>
      </div>
      <div class="st-bd">
        <div class="fm-gd">
          <div class="fm-gr">
            <h3>Tracking Goals</h3>
            <div class="gl-gd">
              <label class="gl-it"><input type="checkbox" class="goal-check" value="traffic"><span class="gl-lb">üìà Website Traffic</span></label>
              <label class="gl-it"><input type="checkbox" class="goal-check" value="conversions"><span class="gl-lb">üéØ Conversions</span></label>
              <label class="gl-it"><input type="checkbox" class="goal-check" value="engagement"><span class="gl-lb">üí¨ Engagement</span></label>
              <label class="gl-it"><input type="checkbox" class="goal-check" value="rankings"><span class="gl-lb">üèÜ Search Rankings</span></label>
              <label class="gl-it"><input type="checkbox" class="goal-check" value="social"><span class="gl-lb">üì± Social Reach</span></label>
              <label class="gl-it"><input type="checkbox" class="goal-check" value="revenue"><span class="gl-lb">üí∞ Revenue</span></label>
            </div>
          </div>
          <div class="fm-gr">
            <label class="fm-lb">
              <span class="lb-tx">Reporting Frequency</span>
              <select id="reportFreq" class="fm-sl">
                <option value="daily">Daily</option>
                <option value="weekly" selected>Weekly</option>
                <option value="monthly">Monthly</option>
                <option value="custom">Custom</option>
              </select>
            </label>
          </div>
          <div class="fm-gr">
            <label class="fm-lb">
              <span class="lb-tx">Date Range</span>
              <select id="dateRange" class="fm-sl">
                <option value="7">Last 7 days</option>
                <option value="30" selected>Last 30 days</option>
                <option value="90">Last 90 days</option>
                <option value="365">Last year</option>
                <option value="custom">Custom range</option>
              </select>
            </label>
          </div>
          <div class="fm-gr">
            <label class="fm-lb">
              <span class="lb-tx">Alert Thresholds</span>
              <div class="th-gd">
                <input type="number" placeholder="Traffic drop %" class="th-in" id="trafficThreshold" value="20">
                <input type="number" placeholder="Ranking drop" class="th-in" id="rankingThreshold" value="5">
                <input type="number" placeholder="Conversion drop %" class="th-in" id="conversionThreshold" value="15">
              </div>
            </label>
          </div>
        </div>
        <div class="bt-gr">
          <button class="bt-sc" id="backStep2"><span class="bt-ar">‚Üê</span><span>Back</span></button>
          <button class="bt-pr" id="nextStep2"><span>Start Analysis</span><span class="bt-ar">‚Üí</span></button>
        </div>
      </div>
    </div>

    <!-- Step 3: Analytics Dashboard -->
    <div class="st-bx" id="step3" style="display:none">
      <div class="st-ic">üìä</div>
      <div class="st-hd">
        <h2>Performance Dashboard</h2>
        <p>Real-time analytics and insights</p>
      </div>
      <div class="st-bd">
        <div class="db-gd">
          <!-- Key Metrics -->
          <div class="mt-gd">
            <div class="mt-cd">
              <div class="mt-ic">üë•</div>
              <div class="mt-info">
                <div class="mt-vl" id="totalVisitors">0</div>
                <div class="mt-lb">Total Visitors</div>
                <div class="mt-ch" id="visitorsChange">+0%</div>
              </div>
            </div>
            <div class="mt-cd">
              <div class="mt-ic">üìÑ</div>
              <div class="mt-info">
                <div class="mt-vl" id="pageViews">0</div>
                <div class="mt-lb">Page Views</div>
                <div class="mt-ch" id="pageViewsChange">+0%</div>
              </div>
            </div>
            <div class="mt-cd">
              <div class="mt-ic">‚è±Ô∏è</div>
              <div class="mt-info">
                <div class="mt-vl" id="avgTime">0m 0s</div>
                <div class="mt-lb">Avg. Time</div>
                <div class="mt-ch" id="timeChange">+0%</div>
              </div>
            </div>
            <div class="mt-cd">
              <div class="mt-ic">üéØ</div>
              <div class="mt-info">
                <div class="mt-vl" id="conversionRate">0%</div>
                <div class="mt-lb">Conversion Rate</div>
                <div class="mt-ch" id="conversionChange">+0%</div>
              </div>
            </div>
          </div>

          <!-- Charts -->
          <div class="ch-gd">
            <div class="ch-cd">
              <h3 class="ch-tl">Traffic Overview</h3>
              <div class="ch-ct" id="trafficChart">
                <canvas id="trafficCanvas" width="400" height="200"></canvas>
              </div>
            </div>
            <div class="ch-cd">
              <h3 class="ch-tl">Top Pages</h3>
              <div class="tp-ls" id="topPages">
                <div class="tp-it"><span class="tp-pg">/blog/seo-guide</span><span class="tp-vw">1,234</span></div>
                <div class="tp-it"><span class="tp-pg">/products/tool</span><span class="tp-vw">987</span></div>
                <div class="tp-it"><span class="tp-pg">/about</span><span class="tp-vw">654</span></div>
                <div class="tp-it"><span class="tp-pg">/contact</span><span class="tp-vw">321</span></div>
              </div>
            </div>
          </div>

          <!-- SEO Performance -->
          <div class="se-gd">
            <div class="se-cd">
              <h3 class="se-tl">Search Performance</h3>
              <div class="se-mt">
                <div class="se-it"><span class="se-lb">Total Clicks:</span><span class="se-vl" id="totalClicks">0</span></div>
                <div class="se-it"><span class="se-lb">Impressions:</span><span class="se-vl" id="totalImpressions">0</span></div>
                <div class="se-it"><span class="se-lb">Avg. CTR:</span><span class="se-vl" id="avgCTR">0%</span></div>
                <div class="se-it"><span class="se-lb">Avg. Position:</span><span class="se-vl" id="avgPosition">0</span></div>
              </div>
            </div>
            <div class="se-cd">
              <h3 class="se-tl">Top Keywords</h3>
              <div class="kw-ls" id="topKeywords">
                <div class="kw-it"><span class="kw-tx">seo optimization</span><span class="kw-ps">3.2</span></div>
                <div class="kw-it"><span class="kw-tx">content marketing</span><span class="kw-ps">5.8</span></div>
                <div class="kw-it"><span class="kw-tx">digital strategy</span><span class="kw-ps">7.1</span></div>
              </div>
            </div>
          </div>
        </div>
        <div class="bt-gr">
          <button class="bt-sc" id="backStep3"><span class="bt-ar">‚Üê</span><span>Back</span></button>
          <button class="bt-pr" id="nextStep3"><span>Generate Report</span><span class="bt-ar">‚Üí</span></button>
        </div>
      </div>
    </div>

    <!-- Step 4: Generate Report -->
    <div class="st-bx" id="step4" style="display:none">
      <div class="st-ic">üìã</div>
      <div class="st-hd">
        <h2>Performance Report</h2>
        <p>Generate and export your analytics report</p>
      </div>
      <div class="st-bd">
        <div class="rp-gd">
          <div class="rp-cd">
            <h3>Report Settings</h3>
            <div class="fm-gd">
              <div class="fm-gr">
                <label class="fm-lb">
                  <span class="lb-tx">Report Type</span>
                  <select id="reportType" class="fm-sl">
                    <option value="executive">Executive Summary</option>
                    <option value="detailed">Detailed Analysis</option>
                    <option value="comparison">Period Comparison</option>
                    <option value="custom">Custom Report</option>
                  </select>
                </label>
              </div>
              <div class="fm-gr">
                <label class="fm-lb">
                  <span class="lb-tx">Include Sections</span>
                  <div class="sc-gd">
                    <label class="sc-it"><input type="checkbox" checked><span>Traffic Overview</span></label>
                    <label class="sc-it"><input type="checkbox" checked><span>SEO Performance</span></label>
                    <label class="sc-it"><input type="checkbox"><span>Social Media</span></label>
                    <label class="sc-it"><input type="checkbox"><span>Conversions</span></label>
                    <label class="sc-it"><input type="checkbox"><span>Recommendations</span></label>
                  </div>
                </label>
              </div>
            </div>
          </div>
          <div class="rp-cd">
            <h3>Report Preview</h3>
            <div class="rp-pv" id="reportPreview">
              <div class="pv-hd">Performance Report - Last 30 Days</div>
              <div class="pv-sc">
                <h4>Executive Summary</h4>
                <p>Your website performance shows positive trends with 15% increase in traffic and improved search rankings.</p>
              </div>
              <div class="pv-sc">
                <h4>Key Metrics</h4>
                <ul>
                  <li>Total Visitors: 12,345 (+15%)</li>
                  <li>Page Views: 23,456 (+12%)</li>
                  <li>Conversion Rate: 3.2% (+0.5%)</li>
                  <li>Average Position: 8.5 (-2.1)</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="ex-gd">
          <button class="ex-cd" id="downloadPDF"><div class="ex-ic">üìÑ</div><div class="ex-tx">Download PDF</div></button>
          <button class="ex-cd" id="downloadExcel"><div class="ex-ic">üìä</div><div class="ex-tx">Export Excel</div></button>
          <button class="ex-cd" id="emailReport"><div class="ex-ic">üìß</div><div class="ex-tx">Email Report</div></button>
          <button class="ex-cd" id="scheduleReport"><div class="ex-ic">‚è∞</div><div class="ex-tx">Schedule Reports</div></button>
        </div>
        <div class="bt-gr">
          <button class="bt-sc" id="backStep4"><span class="bt-ar">‚Üê</span><span>Back</span></button>
          <button class="bt-pr" id="startOver"><span>New Analysis</span><span class="bt-ar">üîÑ</span></button>
        </div>
      </div>
    </div>
  </div>
</main>

<style>
.ds-gd { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 1rem 0; }
.ds-cd { display: flex; align-items: center; gap: 1rem; padding: 1.5rem; border: 2px solid #e5e7eb; border-radius: 8px; transition: all 0.2s; }
.ds-cd:hover { border-color: #2563eb; }
.ds-cd.connected { border-color: #10b981; background: #f0fdf4; }
.ds-ic { font-size: 2rem; }
.ds-info { flex: 1; }
.ds-nm { margin: 0 0 0.25rem 0; font-weight: 600; }
.ds-ds { margin: 0; color: #6b7280; font-size: 0.875rem; }
.ds-bt { padding: 0.5rem 1rem; border: 1px solid #2563eb; background: #2563eb; color: white; border-radius: 6px; cursor: pointer; }
.ds-bt:hover { background: #1d4ed8; }
.ds-bt.connected { background: #10b981; border-color: #10b981; }

.gl-gd { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.5rem; }
.gl-it { display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 6px; cursor: pointer; }
.gl-it:hover { background: #f3f4f6; }
.gl-lb { font-size: 0.875rem; }

.th-gd { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem; }
.th-in { padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 4px; }

.db-gd { display: flex; flex-direction: column; gap: 2rem; }
.mt-gd { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
.mt-cd { display: flex; align-items: center; gap: 1rem; padding: 1.5rem; background: #f8f9fa; border-radius: 8px; }
.mt-ic { font-size: 2rem; }
.mt-info { flex: 1; }
.mt-vl { font-size: 1.5rem; font-weight: 700; color: #1f2937; }
.mt-lb { font-size: 0.875rem; color: #6b7280; margin: 0.25rem 0; }
.mt-ch { font-size: 0.875rem; font-weight: 600; }
.mt-ch.positive { color: #10b981; }
.mt-ch.negative { color: #ef4444; }

.ch-gd { display: grid; grid-template-columns: 2fr 1fr; gap: 2rem; }
.ch-cd { background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 1.5rem; }
.ch-tl { margin: 0 0 1rem 0; font-weight: 600; }
.ch-ct { height: 200px; }

.tp-ls { display: flex; flex-direction: column; gap: 0.5rem; }
.tp-it { display: flex; justify-content: space-between; padding: 0.5rem; background: #f9fafb; border-radius: 4px; }
.tp-pg { font-weight: 500; }
.tp-vw { color: #6b7280; }

.se-gd { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
.se-cd { background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 1.5rem; }
.se-tl { margin: 0 0 1rem 0; font-weight: 600; }
.se-mt { display: flex; flex-direction: column; gap: 0.5rem; }
.se-it { display: flex; justify-content: space-between; }
.se-lb { font-weight: 500; }
.se-vl { color: #2563eb; font-weight: 600; }

.kw-ls { display: flex; flex-direction: column; gap: 0.5rem; }
.kw-it { display: flex; justify-content: space-between; padding: 0.5rem; background: #f9fafb; border-radius: 4px; }
.kw-tx { font-weight: 500; }
.kw-ps { color: #6b7280; }

.rp-gd { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem; }
.rp-cd { background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 1.5rem; }
.rp-pv { background: #f9fafb; padding: 1rem; border-radius: 6px; font-size: 0.875rem; }
.pv-hd { font-weight: 600; margin-bottom: 1rem; }
.pv-sc { margin-bottom: 1rem; }
.pv-sc h4 { margin: 0 0 0.5rem 0; font-weight: 600; }
.pv-sc p, .pv-sc ul { margin: 0; }

.sc-gd { display: flex; flex-direction: column; gap: 0.5rem; }
.sc-it { display: flex; align-items: center; gap: 0.5rem; }

.ex-gd { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
.ex-cd { display: flex; flex-direction: column; align-items: center; gap: 0.5rem; padding: 1.5rem; border: 2px solid #e5e7eb; border-radius: 8px; cursor: pointer; transition: all 0.2s; }
.ex-cd:hover { border-color: #2563eb; background: #f8faff; }
.ex-ic { font-size: 2rem; }
.ex-tx { font-weight: 500; text-align: center; }
</style>

<script>
let currentStep: number = 1;
let connectedSources: string[] = [];
let trackingGoals: string[] = [];
let analyticsData: Record<string, unknown> = {};

function showStep(step: number): void {
  document.querySelectorAll<HTMLElement>('.st-bx').forEach((box) => {
    box.style.display = 'none';
  });
  const stepBox = document.getElementById(`step${step}`) as HTMLElement | null;
  if (stepBox) stepBox.style.display = 'block';

  document.querySelectorAll<HTMLElement>('.pr-it').forEach((item, index) => {
    item.classList.toggle('cp', index + 1 === step);
    item.classList.toggle('cm', index + 1 < step);
  });

  currentStep = step;
}

function simulateConnection(source: string, button: HTMLButtonElement): void {
  button.textContent = 'Connecting...';
  button.disabled = true;

  setTimeout((): void => {
    connectedSources.push(source);
    button.textContent = 'Connected';
    button.classList.add('connected');
    button.parentElement?.classList.add('connected');

    const sourceNames: Record<string, string> = {
      'google-analytics': 'Google Analytics',
      'search-console': 'Search Console',
      'social-media': 'Social Media',
      'email': 'Email Marketing',
    };

    alert(`${sourceNames[source]} connected successfully!`);
  }, 2000);
}

const btnGA = document.getElementById('connectGA') as HTMLButtonElement | null;
if (btnGA) {
  btnGA.addEventListener('click', (e: MouseEvent) => {
    simulateConnection('google-analytics', e.currentTarget as HTMLButtonElement);
  });
}

const btnSC = document.getElementById('connectSC') as HTMLButtonElement | null;
if (btnSC) {
  btnSC.addEventListener('click', (e: MouseEvent) => {
    simulateConnection('search-console', e.currentTarget as HTMLButtonElement);
  });
}

const btnSM = document.getElementById('connectSM') as HTMLButtonElement | null;
if (btnSM) {
  btnSM.addEventListener('click', (e: MouseEvent) => {
    simulateConnection('social-media', e.currentTarget as HTMLButtonElement);
  });
}

const btnEM = document.getElementById('connectEM') as HTMLButtonElement | null;
if (btnEM) {
  btnEM.addEventListener('click', (e: MouseEvent) => {
    simulateConnection('email', e.currentTarget as HTMLButtonElement);
  });
}

const next1 = document.getElementById('nextStep1') as HTMLButtonElement | null;
if (next1) {
  next1.addEventListener('click', () => {
    if (connectedSources.length === 0) {
      alert('Please connect at least one data source');
      return;
    }
    showStep(2);
  });
}

const back2 = document.getElementById('backStep2') as HTMLButtonElement | null;
if (back2) back2.addEventListener('click', () => showStep(1));

const next2 = document.getElementById('nextStep2') as HTMLButtonElement | null;
if (next2) {
  next2.addEventListener('click', () => {
    trackingGoals = Array.from(
      document.querySelectorAll<HTMLInputElement>('.goal-check:checked')
    ).map((cb) => cb.value);

    if (trackingGoals.length === 0) {
      alert('Please select at least one tracking goal');
      return;
    }

    loadAnalyticsData();
    showStep(3);
  });
}

function loadAnalyticsData(): void {
  setTimeout(() => {
    updateMetrics();
    drawTrafficChart();
    updateSEOData();
  }, 1000);
}

function updateMetrics(): void {
  const metrics = {
    visitors: Math.floor(Math.random() * 50000) + 10000,
    pageViews: Math.floor(Math.random() * 100000) + 20000,
    avgTime: Math.floor(Math.random() * 300) + 120,
    conversionRate: (Math.random() * 5 + 1).toFixed(1),
  };

  const totalVisitors = document.getElementById('totalVisitors') as HTMLElement | null;
  if (totalVisitors) totalVisitors.textContent = metrics.visitors.toLocaleString();
  const pageViews = document.getElementById('pageViews') as HTMLElement | null;
  if (pageViews) pageViews.textContent = metrics.pageViews.toLocaleString();
  const avgTime = document.getElementById('avgTime') as HTMLElement | null;
  if (avgTime) avgTime.textContent = `${Math.floor(metrics.avgTime / 60)}m ${metrics.avgTime % 60}s`;
  const conversionRate = document.getElementById('conversionRate') as HTMLElement | null;
  if (conversionRate) conversionRate.textContent = `${metrics.conversionRate}%`;

  const changes = ['+15%', '+12%', '+8%', '+0.5%'];
  const changeElements = ['visitorsChange', 'pageViewsChange', 'timeChange', 'conversionChange'];
  changeElements.forEach((id, index) => {
    const el = document.getElementById(id) as HTMLElement | null;
    if (el) {
      el.textContent = changes[index];
      el.classList.add('positive');
    }
  });
}

function drawTrafficChart(): void {
  const canvas = document.getElementById('trafficCanvas') as HTMLCanvasElement | null;
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  if (!ctx) return;

  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.strokeStyle = '#2563eb';
  ctx.lineWidth = 2;

  const data = Array.from({ length: 30 }, () => Math.random() * 100 + 50);
  const stepX = canvas.width / (data.length - 1);
  const stepY = canvas.height / 150;

  ctx.beginPath();
  data.forEach((value, index) => {
    const x = index * stepX;
    const y = canvas.height - value * stepY;
    if (index === 0) {
      ctx.moveTo(x, y);
    } else {
      ctx.lineTo(x, y);
    }
  });
  ctx.stroke();
}

function updateSEOData(): void {
  const totalClicks = document.getElementById('totalClicks') as HTMLElement | null;
  if (totalClicks)
    totalClicks.textContent = (Math.floor(Math.random() * 10000) + 5000).toLocaleString();
  const totalImpressions = document.getElementById('totalImpressions') as HTMLElement | null;
  if (totalImpressions)
    totalImpressions.textContent = (Math.floor(Math.random() * 100000) + 50000).toLocaleString();
  const avgCTR = document.getElementById('avgCTR') as HTMLElement | null;
  if (avgCTR) avgCTR.textContent = (Math.random() * 5 + 2).toFixed(1) + '%';
  const avgPosition = document.getElementById('avgPosition') as HTMLElement | null;
  if (avgPosition) avgPosition.textContent = (Math.random() * 10 + 5).toFixed(1);
}

const back3 = document.getElementById('backStep3') as HTMLButtonElement | null;
if (back3) back3.addEventListener('click', () => showStep(2));
const next3 = document.getElementById('nextStep3') as HTMLButtonElement | null;
if (next3) next3.addEventListener('click', () => showStep(4));

const back4 = document.getElementById('backStep4') as HTMLButtonElement | null;
if (back4) back4.addEventListener('click', () => showStep(3));
const startOver = document.getElementById('startOver') as HTMLButtonElement | null;
if (startOver) {
  startOver.addEventListener('click', () => {
    if (confirm('Start a new analysis? Current data will be lost.')) {
      location.reload();
    }
  });
}

const downloadPDF = document.getElementById('downloadPDF') as HTMLButtonElement | null;
if (downloadPDF) downloadPDF.addEventListener('click', () => alert('Generating PDF report...'));
const downloadExcel = document.getElementById('downloadExcel') as HTMLButtonElement | null;
if (downloadExcel) downloadExcel.addEventListener('click', () => alert('Exporting to Excel...'));
const emailReport = document.getElementById('emailReport') as HTMLButtonElement | null;
if (emailReport)
  emailReport.addEventListener('click', () => {
    const email = prompt('Enter email address:');
    if (email) alert(`Report will be sent to ${email}`);
  });
const scheduleReport = document.getElementById('scheduleReport') as HTMLButtonElement | null;
if (scheduleReport) scheduleReport.addEventListener('click', () => alert('Report scheduling feature coming soon!'));

showStep(1);
</script>
</Layout>